{"openapi": "3.0.2", "info": {"title": "Annoto API", "version": "v1"}, "paths": {"/images/{src}": {"get": {"tags": ["images"], "summary": "Get Image", "description": "Get the image that should be annotated", "operationId": "get_image", "parameters": [{"required": true, "schema": {"title": "Src", "type": "string"}, "example": "sloth.jpg", "name": "src", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"image/*": {"schema": {"type": "file", "format": "binary"}}}}, "404": {"description": "File not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["images"], "summary": "Save Annotation", "description": "Saves the annotation for the specified image", "operationId": "save_annotation", "parameters": [{"required": true, "schema": {"title": "Src", "type": "string"}, "example": "sloth.jpg", "name": "src", "in": "path"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AnnotationData"}}}, "required": true}, "responses": {"204": {"description": "Successful Response"}, "404": {"description": "File not found!"}, "400": {"description": "Hash values of the annotation and the local source do not match!"}, "428": {"description": "Provided proofs are not valid!"}, "406": {"description": "Provided username is not valid!"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"AnnotationData": {"title": "AnnotationData", "required": ["label", "hash", "username", "competency", "is_trained", "is_attentive"], "type": "object", "properties": {"label": {"title": "Label", "type": "string", "description": "The label the file should be annotated with", "example": "Sloth"}, "hash": {"title": "Hash", "type": "string", "description": "The hash of the file", "example": "e922903b4d5431a8f9def3c89ffcb0b18472f3da304f28a2dbef9028b6cd205d"}, "username": {"title": "Username", "type": "string", "description": "The name of the current user", "example": "AnnotoUser#1337"}, "competency": {"title": "Competency", "type": "string", "description": "The competencies the annotator has", "example": "Prof. Dr. Med"}, "is_trained": {"title": "Is Trained", "type": "boolean", "description": "Whether the annotator said he finished the training", "example": true}, "is_attentive": {"title": "Is Attentive", "type": "boolean", "description": "Whether the annotator said that he is attentive", "example": true}}, "description": "The basic Annotation Data for a data file"}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"type": "string"}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}}}}
